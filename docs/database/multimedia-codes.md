# Multimedia Codes (MD) Reference

This document describes the BMECat multimedia codes (MD) used in `items.product_info.multimedia` and their sources.

## Overview

Products have multimedia entries from two sources:
1. **Supabase Storage** - Generated PNGs, consistent sizing, always available
2. **Supplier External** - Original URLs from supplier catalogs, mixed formats

## Supabase Storage (Preferred)

Generated by the xml-booster tool. Consistent PNG format, optimized for display.

| Code | Description | Size | Use Case |
|------|-------------|------|----------|
| **MD47** | Thumbnail | 384×384 px | Gallery views, product cards, lists |
| **MD02** | Print-ready image | 591×591 px @ 300 DPI | Detail views, print, tiles |
| **MD64** | Line drawing | 591×591 px @ 300 DPI | CAD symbols, technical views |
| **MD19** | Luminaire data | 384×384 px | Light distribution diagrams |

**Storage path pattern:**
```
bmecat-media/{supplier_slug}/{catalog_id}-foss/{product_pid}/md{XX}.png
```

**Example:**
```
bmecat-media/delta_light/DeltaLight-15.188-foss/28556_9040_B/md47.png
```

## Supplier External (Fallback)

Original URLs from supplier BMECat catalogs. Mixed formats (JPG, SVG, PDF).

| Code | Description | Format | Fallback For |
|------|-------------|--------|--------------|
| **MD01** | Product picture | JPG/PNG | MD47, MD02 |
| **MD12** | Dimensioned drawing | SVG | MD64 |
| **MD16** | Light Distribution Curve | SVG | MD19 |

## Documents (External Only)

PDF documents and links from suppliers.

| Code | Description | Format |
|------|-------------|--------|
| **MD22** | Product data sheet | PDF |
| **MD14** | Instructions for use | PDF |
| **MD54** | EPD Certificate | PDF (Delta Light only) |
| **MD04** | Product page URL | Link |

## Database Coverage

As of December 2025:

| Code | Products | Source |
|------|----------|--------|
| MD01 | 27,417 | Supplier |
| MD02 | 26,786 | Supabase |
| MD04 | 28,033 | Supplier |
| MD12 | 27,349 | Supplier |
| MD14 | 26,808 | Supplier |
| MD16 | 25,681 | Supplier |
| MD19 | 24,887 | Supabase |
| MD22 | 28,033 | Supplier |
| MD47 | 26,790 | Supabase |
| MD54 | 2,300 | Supplier |
| MD64 | 27,193 | Supabase |

## Display Priority

When displaying product images:

1. **Product thumbnail/gallery**: MD47 → MD02 → MD01
2. **Technical drawing**: MD64 → MD12
3. **Light diagram**: MD19 → MD16
4. **Documents**: MD22, MD14, MD54, MD04 (no fallback)

## Related Tools

- **xml-booster** (`~/Foss Google Drive/BMECat XML/xml-booster/`) - Generates MD02, MD19, MD47, MD64
- **patch_md64.py** - Adds MD64 line drawings from MD12
- **patch_udx_mime.py** - Copies storage MDs to UDX section for DB import

---

**Last Updated**: 2025-12-12
